<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.8.26">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Alain De Botton">
<meta name="dcterms.date" content="2012-05-01">

<title>How To Think More About Sex – VZ’s LogBook</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<script src="../../site_libs/quarto-html/quarto.js" type="module"></script>
<script src="../../site_libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="../../site_libs/quarto-html/axe/axe-check.js" type="module"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting-587c61ba64f3a5504c4d52d930310e48.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap-f3e87e0bb0765aae0ce4da68b988dce5.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


<link rel="stylesheet" href="../../custom.css">
</head>

<body class="nav-fixed quarto-light">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="../../index.html">
    <span class="navbar-title">VZ’s LogBook</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
</ul>
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../about.html"> 
<span class="menu-text">ABOUT</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../now.html"> 
<span class="menu-text">NOW</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../talks/"> 
<span class="menu-text">TALKS</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../notes/"> 
<span class="menu-text">NOTES</span></a>
  </li>  
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-bi-github" role="link" data-bs-toggle="dropdown" aria-expanded="false">
      <i class="bi bi-github" role="img">
</i> 
 <span class="menu-text"></span>
    </a>
    <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="nav-menu-bi-github">    
        <li>
    <a class="dropdown-item" href="https://github.com/vanzaj/vz-logbook.git">
 <span class="dropdown-text">Source Code</span></a>
  </li>  
    </ul>
  </li>
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#i.-introduction" id="toc-i.-introduction" class="nav-link active" data-scroll-target="#i.-introduction">I. Introduction</a></li>
  <li><a href="#ii.-the-pleasures-of-sex" id="toc-ii.-the-pleasures-of-sex" class="nav-link" data-scroll-target="#ii.-the-pleasures-of-sex">II. The pleasures of sex</a>
  <ul class="collapse">
  <li><a href="#eroticism-and-loneliness" id="toc-eroticism-and-loneliness" class="nav-link" data-scroll-target="#eroticism-and-loneliness">1. Eroticism and Loneliness</a>
  <ul class="collapse">
  <li><a href="#the-kiss-acceptance" id="toc-the-kiss-acceptance" class="nav-link" data-scroll-target="#the-kiss-acceptance">The Kiss – Acceptance</a></li>
  <li><a href="#the-undressing-an-end-to-shame" id="toc-the-undressing-an-end-to-shame" class="nav-link" data-scroll-target="#the-undressing-an-end-to-shame">The Undressing – An end to shame</a></li>
  <li><a href="#excitement-authenticity" id="toc-excitement-authenticity" class="nav-link" data-scroll-target="#excitement-authenticity">Excitement – Authenticity</a></li>
  <li><a href="#rudeness-love" id="toc-rudeness-love" class="nav-link" data-scroll-target="#rudeness-love">Rudeness – Love</a></li>
  <li><a href="#fetishism-goodness" id="toc-fetishism-goodness" class="nav-link" data-scroll-target="#fetishism-goodness">Fetishism – Goodness</a></li>
  <li><a href="#orgasm-utopia" id="toc-orgasm-utopia" class="nav-link" data-scroll-target="#orgasm-utopia">Orgasm – Utopia</a></li>
  </ul></li>
  <li><a href="#can-sexiness-be-profound" id="toc-can-sexiness-be-profound" class="nav-link" data-scroll-target="#can-sexiness-be-profound">2. Can ‘Sexiness’ Be Profound?</a></li>
  <li><a href="#natalie-or-scarlett" id="toc-natalie-or-scarlett" class="nav-link" data-scroll-target="#natalie-or-scarlett">3. Natalie or Scarlett?</a></li>
  <li><a href="#iii.-the-problems-of-sex" id="toc-iii.-the-problems-of-sex" class="nav-link" data-scroll-target="#iii.-the-problems-of-sex">III. The problems of Sex</a></li>
  <li><a href="#love-and-sex" id="toc-love-and-sex" class="nav-link" data-scroll-target="#love-and-sex">1. Love and Sex</a></li>
  <li><a href="#sexual-rejection" id="toc-sexual-rejection" class="nav-link" data-scroll-target="#sexual-rejection">2. Sexual Rejection</a></li>
  <li><a href="#lack-of-desire" id="toc-lack-of-desire" class="nav-link" data-scroll-target="#lack-of-desire">3. Lack of desire</a></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">How To Think More About Sex</h1>
  <div class="quarto-categories">
    <div class="quarto-category">psychology</div>
    <div class="quarto-category">culture</div>
  </div>
  </div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Alain De Botton </p>
          </div>
  </div>
    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">May 1, 2012</p>
    </div>
  </div>
  
    
  </div>
  


</header>


<section id="i.-introduction" class="level1">
<h1>I. Introduction</h1>
<blockquote class="blockquote">
<p>It is rare to get through this life without feeing that we are somehow a bit odd about sex.</p>
</blockquote>
<blockquote class="blockquote">
<p>Despite being one of the most private of activities, sex is nonetheless surrounded by a range of powerful socially sanctioned ideas that codify how normal people are meant to feel about and deal with the matter.</p>
</blockquote>
<blockquote class="blockquote">
<p>Whatever discomfort we de feel around sex is commonly aggravated by the idea that we belong to a liberated age – and ought by now, as a result, to be finding sex a straightforward and untroubling matter.</p>
</blockquote>
<p>pre-religious society, religious society, 1920’s - 1960’s “sexual liberation”, bikinis, talk about masturbation and bdsm, watching pornography…</p>
<blockquote class="blockquote">
<p>…sex is not something that we can ever expect to feel easily liberated from.</p>
</blockquote>
<p>there is a reason why it was and still is a taboo subject in many social contexts.</p>
<blockquote class="blockquote">
<p>it (sex) is a fundamentally disruptive, overwhelming and demented force, strongly at odds with the majority of our ambitions and all but incapable of being discreetly integrated within civilized society.</p>
</blockquote>
<blockquote class="blockquote">
<p>It refuses to sit neatly on top of love, as it should.</p>
</blockquote>
</section>
<section id="ii.-the-pleasures-of-sex" class="level1">
<h1>II. The pleasures of sex</h1>
<section id="eroticism-and-loneliness" class="level2">
<h2 class="anchored" data-anchor-id="eroticism-and-loneliness">1. Eroticism and Loneliness</h2>
<p>Evolutionary biology, genetically programmed for reproduction, pleasures of sex as a reward for undertaking the immense efforts of raising children</p>
<p>But evolutionary biology doesn’t really provide us with a very satisfactory account of why sex should really matter to us as reflexive humans.</p>
<p>Memories of first or new encounter with someone exhibiting reciprocal interest, first kiss… Relation to child-mother, unconditional acceptance, tenderness and love with a lot of physical contact. Gradually there is a separation, covering of the body, adolescence, social and cultural norms, public and private self, shame.</p>
<blockquote class="blockquote">
<p>We grow into clumsy, heavy-footed, shameful, anxious creatures. We become adults, definitively expelled from paradise. But deep inside, we never quite forget the needs with which we were born: to be accepted as we are, without regard to our deeds; to be loved through the medium of our body; to be enclosed in another’s arms.</p>
</blockquote>
<section id="the-kiss-acceptance" class="level3">
<h3 class="anchored" data-anchor-id="the-kiss-acceptance">The Kiss – Acceptance</h3>
<blockquote class="blockquote">
<p>It could sound disgusting, and that’s the point. Nothing is erotic that isn’t also, with the wrong person, revolting, which is precisely what makes erotic moments so intense.</p>
</blockquote>
</section>
<section id="the-undressing-an-end-to-shame" class="level3">
<h3 class="anchored" data-anchor-id="the-undressing-an-end-to-shame">The Undressing – An end to shame</h3>
<blockquote class="blockquote">
<p>The shame begins in adolescence… A division begins between our ordinary public selves on the one hand and our sexual and private identities on the other. A large portion of who we are as adults, from our sexual fantasies to our parted legs, becomes impossible to share with almost anyone we know.</p>
</blockquote>
<p>sexual fantasies clash with what we think is proper and expected behavior (from family and society).</p>
</section>
<section id="excitement-authenticity" class="level3">
<h3 class="anchored" data-anchor-id="excitement-authenticity">Excitement – Authenticity</h3>
<blockquote class="blockquote">
<p>Erections and lubrication simply cannot be effected by willpower and are therefore particularly true and honest indices of interest.</p>
</blockquote>
</section>
<section id="rudeness-love" class="level3">
<h3 class="anchored" data-anchor-id="rudeness-love">Rudeness – Love</h3>
<blockquote class="blockquote">
<p>It can be a sign of love to be allowed to slap someone hard across the face or to clasp our hands forcefully around another’s neck… It doesn’t matter to them (partner) that we have darker sides; they can – like the ideal parent – see us whole and recognize us as being fundamentally good.</p>
</blockquote>
<blockquote class="blockquote">
<p>When we are on the receiving end of this type of violence and rudeness, we may find a parallel pleasure, and a certain sense of strength, in being able to decide for ourselves just how insulted, hurt and dominated we are going to feel.</p>
</blockquote>
</section>
<section id="fetishism-goodness" class="level3">
<h3 class="anchored" data-anchor-id="fetishism-goodness">Fetishism – Goodness</h3>
<blockquote class="blockquote">
<p>We will be drawn to specific things either because they recall appealing qualities of a beloved parental figure or else, conversely, because they somehow cancel out, or otherwise help us to escape, a memory of early humiliation or terror.</p>
</blockquote>
<p>Deep, semi-conscious memories that might indicate/confirm an ideal partner.</p>
<blockquote class="blockquote">
<p>They turn us on because they are emblems of the Good.</p>
</blockquote>
</section>
<section id="orgasm-utopia" class="level3">
<h3 class="anchored" data-anchor-id="orgasm-utopia">Orgasm – Utopia</h3>
<blockquote class="blockquote">
<p>The more closely we analyze what we consider “sexy”, the more clearly we will understand that eroticism is the feeling of excitement we experience at finding another human being who shares our values and our sense of the meaning of existence.</p>
</blockquote>
<blockquote class="blockquote">
<p>The orgasm itself marks the supreme moment when our loneliness and alienation are momentarily overcome. Everything we have appreciated about our lover […] are combined into a concentrated distillation of pleasure that leaves each partner feeling uniquely tender towards and vulnerable with the other.</p>
</blockquote>
<blockquote class="blockquote">
<p>Post-coital sadness often settles over a couple.</p>
</blockquote>
<blockquote class="blockquote">
<p>…it [sex] is an ecstasy we feel at encountering someone who may be able to put to rest certain of our greatest fears, and with whom we may hope to build a shared life based upon common values.</p>
</blockquote>
</section>
</section>
<section id="can-sexiness-be-profound" class="level2">
<h2 class="anchored" data-anchor-id="can-sexiness-be-profound">2. Can ‘Sexiness’ Be Profound?</h2>
<p>Attraction based purely on physical appearance. Biology: beauty is a promise of health and healthy offsprings. Cross-cultural studies: beauty == symmetry, balance, right proportions. Stendhal: beauty is a promise of happiness. How much can we “read” from a portrait? Clothes and expression/suggestion of values.</p>
</section>
<section id="natalie-or-scarlett" class="level2">
<h2 class="anchored" data-anchor-id="natalie-or-scarlett">3. Natalie or Scarlett?</h2>
<blockquote class="blockquote">
<p>The specifics of what we find “beautiful” and what we find “sexy” are indications of what we most deeply crave in order to rebalance ourselves.</p>
</blockquote>
</section>
<section id="iii.-the-problems-of-sex" class="level2">
<h2 class="anchored" data-anchor-id="iii.-the-problems-of-sex">III. The problems of Sex</h2>
</section>
<section id="love-and-sex" class="level2">
<h2 class="anchored" data-anchor-id="love-and-sex">1. Love and Sex</h2>
<blockquote class="blockquote">
<p>We tend to tiptoe around what we want, cloaking our needs with evasions and in the process, we habitually lie, break others’ hearts and suffer through evenings filled with frustration and guilt.</p>
</blockquote>
<p>Direct expression of pure sexual desire or pure love are equally problematic and force both parties to lie (not tell the whole truth).</p>
<blockquote class="blockquote">
<p>…wanting love more than sex, or even instead of it, isn’t “better” or “worse” than the reverse.</p>
</blockquote>
</section>
<section id="sexual-rejection" class="level2">
<h2 class="anchored" data-anchor-id="sexual-rejection">2. Sexual Rejection</h2>
<blockquote class="blockquote">
<p>Rejection hurts so much because we take it as a damning judgement passed not merely on our physical appeal but on our entire selves, and by extension on our very right to exist.</p>
</blockquote>
</section>
<section id="lack-of-desire" class="level2">
<h2 class="anchored" data-anchor-id="lack-of-desire">3. Lack of desire</h2>
<blockquote class="blockquote">
<p>Eroticism seems, in the end, to have very little to do with simply being unclothed: it springs instead from a promise of mutual arousal…</p>
</blockquote>
<blockquote class="blockquote">
<p>Suffering sexual rejection by the person with whom we have pledged to share our life is a much odder and more humiliating experience.</p>
</blockquote>
<blockquote class="blockquote">
<p>…the paucity of sex within established relationships typically has to do with the difficulty of shifting registers between the everyday and the erotic.</p>
</blockquote>
<p>Freud, child-parent love, taboo, children after marriage, mummy-daddy…</p>
<blockquote class="blockquote">
<p>The solution to long-term sexual stagnation is to learn to see our lover as if we had never laid eyes on him or her before.</p>
</blockquote>


</section>
</section>

</main> <!-- /main -->
<script data-goatcounter="https://vanzaj.goatcounter.com/count" async="" src="//gc.zgo.at/count.js"></script>
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
      const outerScaffold = trigger.parentElement.cloneNode(true);
      const codeEl = outerScaffold.querySelector('code');
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp("https:\/\/sansans\.net");
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">
<p><a href="https://creativecommons.org/licenses/by-nc-sa/4.0/"><img src="../../assets/cc-by-nc-sa.png" alt="CC BY-NC-SA" style="height: 31px;"></a></p>
</div>   
    <div class="nav-footer-center">
      &nbsp;
    </div>
    <div class="nav-footer-right">
      &nbsp;
    </div>
  </div>
</footer>




</body></html>